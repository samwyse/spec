{"__ATTN__": "Do not edit this file; changes belong in the appropriate YAML file.", "depends_on": ["partials", "inverted"], "overview": "Mutable Context Objects (hereafter MCOs) are a special type of object\nthat can appear on the context stack.  They allow templates to define\nvalues for interpolation tags.\n\nMCO tags SHOULD be treated as standalone when appropriate.\n(A tag is \"standalone\" when it is the only non-whitespace token on a line.)\n", "tests": [{"data": {}, "desc": "Tags specific to MCOs should be treated as standalones.", "expected": "", "name": "Standalone", "template": "{{:key}}value{{/key}}\n"}, {"data": {}, "desc": "A tag refering to an MCO should be interpolated.", "expected": "Mahatma Gandhi is someone I admire.", "name": "Interpolation", "template": "{{:hero}}Mahatma Gandhi{{/hero}}\n{{hero}} is someone I admire.\n"}, {"data": {}, "desc": "An MCO tag can be overwritten.", "expected": "Mother Teresa is someone I admire.\nHarriet Tubman is someone I admire.\n", "name": "Overwriting values", "template": "{{:hero}}Mother Teresa{{/hero}}\n{{hero}} is someone I admire.\n{{:hero}}Harriet Tubman{{/hero}}\n{{hero}} is someone I admire.\n"}, {"data": {}, "desc": "A tag refering to an MCO should be interpolated.", "expected": "<html><head><title>Custom title</title></head>\n<body>\nHello, world!\nThat's all, folks!\n</body></html>\n", "name": "Tags are visible inside partials", "partials": {"partial": "{{! an example template}}\n<html><head><title>{{title}}{{^title}}Default title{{/title}}</title></head>\n<body>\n{{heading}}\nHello, world!\n{{footing}}\n</body></html>\n"}, "template": "{{:title}}Custom title{{/title}}\n{{:footing}}That's all, folks!{{/footing}}\n{{> template}}\n"}, {"data": {}, "desc": "A tag refering to an MCO should be interpolated.", "expected": "<!DOCTYPE html>\n<html>\n  <head>\n    <title>My Alsome Page</title>\n    <link rel=\"stylesheet\" href=\"/assets/css/page.css\">\n  </head>\n  <body>\n    <header>\n      <h1>My page has some items!</h1>\n    </header>\n    <section id=\"content\">\n      <ul>\n        {{# items}}\n          <li><a href=\"{{link}}\" title=\"{{name}}\">{{name}}</a></li>\n        {{/items}}\n      </ul>\n    </section>\n    <script src=\"/assets/js/default.js\"></script>\n  </body>\n</html>\n", "name": "Big example", "partials": {"partial": "<!DOCTYPE html>\n<html>\n  <head>\n    <title>{{title}}{{^ title}}My Alsome Site{{/title}}</title>\n    {{stylesheets}}{{^ stylesheets}}\n      <link rel=\"stylesheet\" href=\"/assets/css/default.css\">\n    {{/stylesheets}}\n  </head>\n  <body>\n    <header>\n      {{header}}{{^ header}}\n    <h1>Welcome to My Alsome Site</h1>\n      {{/header}}\n    </header>\n    <section id=\"content\">\n      {{content}}{{^ content}}\n    <p>Hello, World!</p>\n      {{/content}}\n    </section>\n    {{scripts}}{{^ scripts}}\n      <script src=\"/assets/js/default.js\"></script>\n    {{/scripts}}\n  </body>\n</html>\n"}, "template": "{{:title}}My Alsome Page{{/title}}\n{{:stylesheets}}\n  <link rel=\"stylesheet\" href=\"/assets/css/page.css\">\n{{/stylesheets}}\n{{:header}}\n  <h1>My page has some items!</h1>\n{{/header}}\n{{:content}}\n  <ul>\n    {{# items}}\n      <li><a href=\"{{link}}\" title=\"{{name}}\">{{name}}</a></li>\n    {{/items}}\n  </ul>\n{{/content}}\n{{> partial}}\n"}, {"data": {}, "desc": "An MCO can be used as a template.", "expected": "Content: Default", "name": "MCOs as templates - Specifying defaults", "partials": {"layout": "Content: {{content}}{{^content}}Default{{/content}}"}, "template": "{{>layout}}\n"}, {"data": {}, "desc": "An MCO can be used as a template.", "expected": "Content: Overridden", "name": "MCOs as templates - Overriding Defaults", "partials": {"layout": "Content: {{content}}{{^content}}Default{{/content}}"}, "template": "{{:content}}Overridden{{/content}}\n{{>layout}}\n"}, {"data": {}, "desc": "An MCO can be used as a template.", "expected": "Content: special stuff", "name": "MCOs as templates - Multiple Inheritance", "partials": {"layout": "Content: {{content}}{{^content}}Default{{/content}}", "special": "{{:content}}special {{content}}{{/content}}{{>layout}}{{/}}"}, "template": "{{:content}}stuff{{/content}}\n{{>layout}}\n"}, {"data": {}, "desc": "An MCO can be used as a template.", "expected": "Content: AB", "name": "MCOs as templates - Concatenation of values", "partials": {"layout": "Content: {{content}}{{^content}}Default{{/content}}"}, "template": "{{:content}}{{content}}A{{/content}}\n{{:content}}{{content}}B{{/content}}\n{{>layout}}\n"}, {"data": {}, "desc": "An MCO can be reusable boilerplate.", "expected": "<div>widget code</div>", "name": "MCOs as Named HTML Chunks", "template": "{{:widgetName}}<div>widget code</div>{{/widgetName}}\n{{{widgetName}}}\n"}, {"data": {}, "desc": "An MCO is rendered twice.  The first time is when it is defined.", "expected": "Socrates is mortal", "name": "MCOs as Inline Partials -- First Rendering", "template": "{{:man}}Socrates{{/man}}\n{{:proposition}}{{man}} is mortal{{/proposition}}\n{{:man}}Aristotle{{/man}}\n{{proposition}}\n"}, {"data": {}, "desc": "An MCO is rendered twice.  The second time is when it is used.", "expected": "Aristotle is mortal", "name": "MCOs as Inline Partials -- Second Rendering", "template": "{{:man}}Socrates{{/man}}\n{{:proposition}}{{=[[ ]]=}}{{man}} is mortal[[={{}}=]]{{/proposition}}\n{{:man}}Aristotle{{/man}}\n{{proposition}}\n"}]}